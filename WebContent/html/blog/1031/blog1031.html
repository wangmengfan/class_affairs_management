<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="/img/favicon.ico" type="image/x-icon" rel="shortcut icon" /> 
<title></title>
<style type="text/css">
#static_introduce table{width:520px !important;}
#static_introduce{word-wrap:break-word;word-break:break-all;}
</style>
</head>
<body>
<div id="static_introduce">一.简介  Spring DataMongoDB 项目提供与MongoDB文档数据库的集成。Spring Data MongoDB POJO的关键功能区域为中心的模型与MongoDB的DBCollection轻松地编写一个存储库交互数据访问。二.Spring Data MongoDB的配置以及下载对应的Jar1.安装MongoDb数据库，我们在上一篇就已经介绍过了，这边就不在介绍了，MongoDB 入门（安装与配置） 2.下载spring的spring-data的子项目两个jar，分别是spring-data-commons和spring-data-mongodb     http://projects.spring.io/spring-data-mongodb/     我这边下载是两个jar分别是：     spring-data-commons-1.7.2.RELEASE.jar    spring-data-mongodb-1.4.2.RELEASE.jar 3.下载mongoDb的java驱动jar包http://central.maven.org/maven2/org/mongodb/mongo-java-driver/   这边有很多版本，下载自己对应得版本，我下载是：mongo-java-driver-2.9.3.jar     4.用Java测试一下MongoDB是否能正常连接[java] view plain copy publicclassTestMongodb{@TestpublicvoidtestMongodb(){try{//连接到mongodb服务Mongomongo=newMongo(&quot;127.0.0.1&quot;,27017);//根据mongodb数据库的名称获取mongodb对象,DBdb=mongo.getDB(&quot;test&quot;);Set&lt;String&gt;collectionNames=db.getCollectionNames();//打印出test中的集合for(Stringname:collectionNames){System.out.println(&quot;collectionName===&quot;+name);}}catch(Exceptione){e.printStackTrace();} 运行能获取test数据库下的集合，说明能正常连接数据库  5.Spring的配置文件 1）applicationContext-mongo.xml [html] view plain copy &lt;?xmlversion=&quot;1.0&quot;encoding=&quot;UTF-8&quot;?&gt;&lt;beansxmlns=&quot;http://www.springframework.org/schema/beans&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;xmlns:util=&quot;http://www.springframework.org/schema/util&quot;xmlns:context=&quot;http://www.springframework.org/schema/context&quot;xmlns:mongo=&quot;http://www.springframework.org/schema/data/mongo&quot;xsi:schemaLocation=&quot;http://www.springframework.org/schema/beanshttp://www.springframework.org/schema/beans/spring-beans-3.0.xsdhttp://www.springframework.org/schema/aophttp://www.springframework.org/schema/aop/spring-aop-3.0.xsdhttp://www.springframework.org/schema/txhttp://www.springframework.org/schema/tx/spring-tx-3.0.xsdhttp://www.springframework.org/schema/utilhttp://www.springframework.org/schema/util/spring-util-3.0.xsdhttp://www.springframework.org/schema/data/mongohttp://www.springframework.org/schema/data/mongo/spring-mongo-1.0.xsdhttp://www.springframework.org/schema/contexthttp://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;&lt;context:component-scanbase-package=&quot;com.mongo&quot;/&gt;&lt;!--获取配置资源--&gt;&lt;context:property-placeholderlocation=&quot;classpath:jdbc.properties&quot;/&gt;&lt;beanclass=&quot;cn.mongo.util.SpringContextUtil&quot;&gt;&lt;/bean&gt;&lt;mongo:mongoid=&quot;mongo&quot;replica-set=&quot;${mongo.replicaSet}&quot;&gt;&lt;!--connections-per-host:每个主机答应的连接数（每个主机的连接池大小），当连接池被用光时，会被阻塞住max-wait-time:被阻塞线程从连接池获取连接的最长等待时间（ms）connect-timeout:在建立（打开）套接字连接时的超时时间（ms）socket-timeout:套接字超时时间;该值会被传递给Socket.setSoTimeout(int)slave-ok:指明是否答应驱动从次要节点或者奴隶节点读取数据--&gt;&lt;mongo:optionsconnections-per-host=&quot;${mongo.connectionsPerHost}&quot;threads-allowed-to-block-for-connection-multiplier=&quot;${mongo.threadsAllowedToBlockForConnectionMultiplier}&quot;connect-timeout=&quot;${mongo.connectTimeout}&quot;max-wait-time=&quot;${mongo.maxWaitTime}&quot;auto-connect-retry=&quot;${mongo.autoConnectRetry}&quot;socket-keep-alive=&quot;${mongo.socketKeepAlive}&quot;socket-timeout=&quot;${mongo.socketTimeout}&quot;slave-ok=&quot;${mongo.slaveOk}&quot;write-number=&quot;${mongo.writeNumber}&quot;write-timeout=&quot;${mongo.riteTimeout}&quot;write-fsync=&quot;${mongo.writeFsync}&quot;/&gt;&lt;/mongo:mongo&gt;&lt;!--设置使用的数据库名--&gt;&lt;mongo:db-factorydbname=&quot;test&quot;mongo-ref=&quot;mongo&quot;/&gt;&lt;!--mongodb的模板--&gt;&lt;beanid=&quot;mongoTemplate&quot;class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;&lt;constructor-argname=&quot;mongoDbFactory&quot;ref=&quot;mongoDbFactory&quot;/&gt;&lt;/bean&gt;&lt;/beans&gt;2）jdbc.properties[html] view plain copy mongo.replicaSet=127.0.0.1:27017mongo.connectionsPerHost=8mongo.threadsAllowedToBlockForConnectionMultiplier=4mongo.connectTimeout=1000mongo.maxWaitTime=1500mongo.autoConnectRetry=truemongo.socketKeepAlive=truemongo.socketTimeout=1500mongo.slaveOk=truemongo.writeNumber=1mongo.riteTimeout=0mongo.writeFsync=true说明：我们可以上官方网查看文档http://docs.spring.io/spring-data/data-mongo/docs/1.7.0.RC1/reference/html/#mongodb-connectors，这里面有说明怎么配置 </div>

</body>

</html>